(this["webpackJsonpsnake-game-react"]=this["webpackJsonpsnake-game-react"]||[]).push([[0],[,,,,,,,,,,,,,function(e,a,t){e.exports=t(27)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),o=t.n(c),s=(t(18),t(19),function(e){var a=e.cellData;return r.a.createElement("div",{className:"".concat(a.class," ").concat(a.type)})}),l=(t(20),function(e){var a=e.rowData;return r.a.createElement("div",{className:"row"},a.map((function(e,a){return r.a.createElement(s,{key:a,cellData:e})})))}),i=t(12),u=(t(21),function(e){var a=e.children,t=e.onClickCallback,n=Object(i.a)(e,["children","onClickCallback"]);return r.a.createElement("button",{className:"btn ".concat(n.btnClass),onClick:function(e){return t(e)}},a)}),d=t(1),b=t(2),m=t(11),f=t(4),k=function(e,a){var t=Object(f.a)(a).slice(0),n=Object(d.a)(e.head,2),r=n[0],c=n[1];return t[r][c].type="snake-head",e.body.map((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];t[n][r].type="snake-body"})),t},v=function(e){var a=Object.assign({},e);a.boardMatrix=function(e,a){var t=Object(f.a)(a).slice(0),n=Object(d.a)(e.head,2),r=n[0],c=n[1];return t[r][c].type="cell",e.body.map((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];t[n][r].type="cell"})),t}(a.snakeData,a.boardMatrix);var t,n,r=(t=a.snakeData,n=a.snakeDirection,t.body.unshift(Object(m.a)(t.head)),t.body.pop(),"left"===n&&(t.head[1]-=1),"right"===n&&(t.head[1]+=1),"up"===n&&(t.head[0]-=1),"down"===n&&(t.head[0]+=1),Object(b.a)({},t));return{snakeData:r,boardMatrix:k(r,a.boardMatrix)}},p={status:"not-started",highScore:0,score:0,boardSize:[25,25],borderData:[],boardMatrix:[],snakeData:{head:[7,5],body:[[6,5],[5,5],[4,5],[3,5]]},snakeDirection:"down",snakeFood:[[10,7]],snakeSpeed:1};p.boardMatrix=function(e){for(var a=[],t=0;t<e[0];t++){a[t]=[];for(var n=0;n<e[1];n++)a[t][n]={type:"cell",class:"cell"}}return a}(p.boardSize),p.borderData=function(e){for(var a=[],t=0;t<e[0];t++)for(var n=0;n<e[1];n++)(0!==t||0!==n&&n!==e[1]-1)&&(t!==e[0]-1||0!==n&&n!==e[1]-1)?(0===t&&a.push([t,n,"border-top"]),t===e[0]-1&&a.push([t,n,"border-bottom"]),0===n&&a.push([t,n,"border-left"]),n===e[1]-1&&a.push([t,n,"border-right"])):a.push([t,n,"corner"]);return a}(p.boardSize),p.boardMatrix=function(e,a){var t=Object(f.a)(a).slice(0);return e.map((function(e){var a=Object(d.a)(e,3),n=a[0],r=a[1],c=a[2];t[n][r].class+=" ".concat(c)})),t}(p.borderData,p.boardMatrix),p.boardMatrix=function(e,a){var t=Object(f.a)(a).slice(0);return e.map((function(e){var a=Object(d.a)(e,2),n=a[0],r=a[1];t[n][r].type="snake-food"})),t}(p.snakeFood,p.boardMatrix),p.boardMatrix=k(p.snakeData,p.boardMatrix);var h=function(e,a){var t=a.type,n=a.payload;switch(t){case"start-game":case"restart-game":return Object(b.a)({},e,{status:"playing"});case"move-snake":return Object(b.a)({},e,{snakeData:n.snakeData,boardMatrix:n.boardMatrix});case"set-snake-direction":return Object(b.a)({},e,{snakeDirection:n});default:return e}},E=Object(n.createContext)(p),y=function(e){var a=e.children,t=Object(n.useReducer)(h,p),c=Object(d.a)(t,2),o=c[0],s=c[1];return r.a.createElement(E.Provider,{value:{state:o,dispatch:s}},a)},g=function(){return Object(n.useContext)(E)},C=(t(22),function(){var e=g(),a=e.state,t=e.dispatch;return r.a.createElement(r.a.Fragment,null,"playing"!==a.status?r.a.createElement("div",{className:"board-overlay"},"not-started"===a.status?r.a.createElement("div",{className:"start-overlay-content"},r.a.createElement("div",{className:"start-oc-text"},"Start Game"),r.a.createElement(u,{btnClass:"btn-start btn-circle",onClickCallback:function(){console.log("start btn clicked"),t({type:"start-game"})}},"START")):"","game-over"===a.status?r.a.createElement("div",{className:"restart-overlay-content"},r.a.createElement("div",{className:"restart-oc-text"},"Game Over!"),r.a.createElement(u,{btnClass:"btn-restart btn-circle",onClickCallback:function(){console.log("restart btn clicked"),t({type:"restart-game"})}},"RESTART")):""):"")}),O=(t(23),function(e){var a=e.boardMatrix;return r.a.createElement("div",{className:"game-board"},a.map((function(e,a){return r.a.createElement(l,{key:a,rowData:e})})),r.a.createElement(C,null))}),j=(t(24),function(){var e=g(),a=e.state,t=e.dispatch,c=37,o=38,s=39,l=40;Object(n.useEffect)((function(){window.onkeydown=f})),function(e,a){var t=Object(n.useRef)();Object(n.useEffect)((function(){t.current=e}),[e]),Object(n.useEffect)((function(){if(null!==a){var e=setInterval((function(){t.current()}),a);return function(){return clearInterval(e)}}}),[a])}((function(){console.log("hello"),t({type:"move-snake",payload:v(a)})}),"playing"===a.status?200-a.snakeSpeed:null);var i=function(){"right"!==a.snakeDirection&&t({type:"set-snake-direction",payload:"left"})},d=function(){"down"!==a.snakeDirection&&t({type:"set-snake-direction",payload:"up"})},b=function(){"up"!==a.snakeDirection&&t({type:"set-snake-direction",payload:"down"})},m=function(){"left"!==a.snakeDirection&&t({type:"set-snake-direction",payload:"right"})},f=function(e){switch(e.keyCode){case c:i();break;case o:d();break;case s:m();break;case l:b()}};return r.a.createElement("div",{className:"mobile-controls"},r.a.createElement(u,{btnClass:"btn-game-control",onClickCallback:i},"\u2b05"),r.a.createElement(u,{btnClass:"btn-game-control",onClickCallback:d},"\u2b06"),r.a.createElement(u,{btnClass:"btn-game-control",onClickCallback:b},"\u2b07"),r.a.createElement(u,{btnClass:"btn-game-control",onClickCallback:m},"\u27a1"))}),x=(t(25),function(){var e=g().state;return console.log(e),r.a.createElement("div",{className:" wrapper"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"page-title"},"Snake Game")),r.a.createElement("div",{className:"scoreboard"},r.a.createElement("div",{className:"score-text"},"Score: ",e.score),r.a.createElement("div",{className:"score-text"},"High Score: ",e.highScore)),r.a.createElement(O,{boardMatrix:e.boardMatrix}),r.a.createElement(j,null),r.a.createElement("div",{className:"instruction-text"},"Tip: Use arrow buttons to control snake."))});t(26);var w=function(){return r.a.createElement(y,null,r.a.createElement("div",{className:"App"},r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.839fbdd3.chunk.js.map